<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Teste de Perfil DISC</title>
    <link rel="stylesheet" href="styles.css">
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #f4f4f9;
            color: #333;
            line-height: 1.6;
            margin: 0;
            padding: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            flex-direction: column;
        }

        .container {
            max-width: 600px;
            margin: 20px;
            padding: 20px;
            background-color: #fff;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
            border-radius: 8px;
            overflow-y: auto;
            max-height: 90vh;
            width: 90%;
        }

        h1 {
            text-align: center;
            margin-bottom: 20px;
        }

        .progress-bar {
            width: 100%;
            background-color: #e0e0e0;
            border-radius: 20px;
            margin-bottom: 20px;
            overflow: hidden;
        }

        .progress {
            height: 10px;
            width: 0;
            background-color: #4caf50;
            transition: width 0.3s ease-in-out;
        }

        .card {
            margin: 20px 0;
            padding: 20px;
            border: 1px solid #ddd;
            border-radius: 8px;
            transition: transform 0.3s ease;
            opacity: 0;
            transform: translateY(20px);
            animation: fadeIn 0.5s forwards;
        }

        .card h2 {
            margin-top: 0;
        }

        .button {
            padding: 10px 20px;
            background-color: #2196f3;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            transition: background-color 0.3s ease;
            text-align: left;
            width: 100%;
            margin-bottom: 10px;
        }

        .button:hover {
            background-color: #1976d2;
        }

        #result {
            display: none;
            margin-top: 20px;
            padding: 20px;
            background-color: #e7f3fe;
            border-left: 6px solid #2196f3;
            border-radius: 5px;
        }

        #resultContainer {
            display: none;
            margin-top: 20px;
            text-align: center;
        }

        #chartContainer {
            margin-top: 20px;
        }

        @keyframes fadeIn {
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @media (max-width: 600px) {
            .container {
                padding: 10px;
            }

            #nameInput {
                font-size: 14px;
            }

            .button {
                padding: 8px 16px;
                font-size: 14px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Teste de Perfil DISC</h1>
        <p>Por favor, responda ao teste de acordo com quem você realmente é, não como você deseja ser.</p>
        <input type="text" id="nameInput" placeholder="Digite seu nome" required>
        
        <div class="progress-bar">
            <div class="progress" id="progress"></div>
        </div>

        <form id="quizForm">
            <!-- Cards de Perguntas -->
            <div class="card" id="question1">
                <h2>Pergunta 1</h2>
                <p>Quando estou em um projeto de grupo, eu prefiro:</p>
                <div class="button-group">
                    <button type="button" class="button" onclick="answerQuestion('I', 1)">Motivar e inspirar os outros a fazerem seu melhor.</button>
                    <button type="button" class="button" onclick="answerQuestion('S', 1)">Trabalhar junto com os outros, garantindo que todos estejam confortáveis.</button>
                    <button type="button" class="button" onclick="answerQuestion('C', 1)">Focar nos detalhes e assegurar que tudo esteja sendo feito corretamente.</button>
                    <button type="button" class="button" onclick="answerQuestion('D', 1)">Tomar a liderança e garantir que tudo esteja no caminho certo.</button>
                </div>
            </div>

            <!-- Repetir a estrutura do card para as outras perguntas -->
            <div class="card" id="question2">
                <h2>Pergunta 2</h2>
                <p>Quando enfrento um desafio, eu geralmente:</p>
                <div class="button-group">
                    <button type="button" class="button" onclick="answerQuestion('I', 2)">Reúno pessoas para obter novas ideias.</button>
                    <button type="button" class="button" onclick="answerQuestion('D', 2)">Ataco diretamente e encontro a solução mais rápida.</button>
                    <button type="button" class="button" onclick="answerQuestion('C', 2)">Coleto todas as informações necessárias antes de decidir.</button>
                    <button type="button" class="button" onclick="answerQuestion('S', 2)">Avalio cuidadosamente as opções antes de agir.</button>
                </div>
            </div>

            <!-- Adicione as demais perguntas seguindo o mesmo formato -->
            <!-- ... -->

            <div class="card" id="question20">
                <h2>Pergunta 20</h2>
                <p>Minha principal força em uma equipe é:</p>
                <div class="button-group">
                    <button type="button" class="button" onclick="answerQuestion('C', 20)">Organizar e fornecer detalhes.</button>
                    <button type="button" class="button" onclick="answerQuestion('D', 20)">Liderar e tomar decisões rápidas.</button>
                    <button type="button" class="button" onclick="answerQuestion('I', 20)">Inspirar e conectar pessoas.</button>
                    <button type="button" class="button" onclick="answerQuestion('S', 20)">Ouvir e apoiar os colegas.</button>
                </div>
            </div>
        </form>

        <div id="resultContainer">
            <h2>Resultado DISC</h2>
            <p id="userName"></p>
            <div id="chartContainer">
                <canvas id="chart"></canvas>
            </div>
            <div id="detailedResult"></div>
            <button class="button" onclick="printResults()">Imprimir Resultado</button>
            <button class="button" onclick="resetTest()">Refazer o Teste</button>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script>
        let currentQuestion = 1;
        const totalQuestions = 20;
        const scores = { D: 0, I: 0, S: 0, C: 0 };

        function answerQuestion(type, questionNumber) {
            if (questionNumber === currentQuestion) {
                scores[type]++;
                updateProgress();
                currentQuestion++;
                if (currentQuestion <= totalQuestions) {
                    document.getElementById('question' + currentQuestion).scrollIntoView({ behavior: 'smooth' });
                } else {
                    calculateResult();
                }
            }
        }

        function updateProgress() {
            const progressElement = document.getElementById('progress');
            progressElement.style.width = ((currentQuestion / totalQuestions) * 100) + '%';
        }

        function calculateResult() {
            const validScores = {};
            for (let [key, value] of Object.entries(scores)) {
                if (value >= 19) {
                    validScores[key] = value;
                }
            }

            let maxCount = 0;
            let maxLetter = '';
            let secondaryMaxLetter = '';

            for (let [key, value] of Object.entries(validScores)) {
                if (value > maxCount) {
                    maxCount = value;
                    maxLetter = key;
                }
            }

            for (let [key, value] of Object.entries(validScores)) {
                if (value > 50 && key !== maxLetter) {
                    secondaryMaxLetter = key;
                    break;
                }
            }

            const name = document.getElementById('nameInput').value;
            document.getElementById('userName').innerText = 'Nome: ' + name;

            displayResult(maxLetter, secondaryMaxLetter);
            document.getElementById('resultContainer').style.display = 'block';
        }

        function displayResult(maxLetter, secondaryMaxLetter) {
            const detailedResult = document.getElementById('detailedResult');
            let profileDescription = '';

            switch (maxLetter) {
                case 'D':
                    profileDescription = `
                        <h3>Dominância</h3>
                        <p>Você é direto, decidido e gosta de desafios. Você é excelente em tomar decisões rápidas e liderar equipes.</p>
                        <h4>Características:</h4>
                        <ul>
                            <li>Direto e decidido</li>
                            <li>Gosta de desafios</li>
                            <li>Orientado para resultados</li>
                            <li>Corre riscos</li>
                        </ul>
                        <h4>Pontos Fortes:</h4>
                        <ul>
                            <li>Grande motivador</li>
                            <li>Organiza eventos</li>
                            <li>Focado em resultados</li>
                        </ul>
                        <h4>Limitações:</h4>
                        <ul>
                            <li>Pode ser argumentativo</li>
                            <li>Não gosta de rotina</li>
                            <li>Pode ser autoritário</li>
                        </ul>
                        <h4>Grande Medo:</h4>
                        <p>Perder controle ou ser visto como ineficiente.</p>
                    `;
                    break;
                case 'I':
                    profileDescription = `
                        <h3>Influência</h3>
                        <p>Você é sociável, falante e gosta de estar com pessoas. Você motiva e inspira os outros a fazerem seu melhor.</p>
                        <h4>Características:</h4>
                        <ul>
                            <li>Sociável e falante</li>
                            <li>Entusiasta e persuasivo</li>
                            <li>Confiante e otimista</li>
                        </ul>
                        <h4>Pontos Fortes:</h4>
                        <ul>
                            <li>Motiva e encoraja outros</li>
                            <li>Bom humor</li>
                            <li>Paciência e compreensão</li>
                        </ul>
                        <h4>Limitações:</h4>
                        <ul>
                            <li>Pode ser desorganizado</li>
                            <li>Prefere popularidade a resultados</li>
                            <li>Desatento a detalhes</li>
                        </ul>
                        <h4>Grande Medo:</h4>
                        <p>Rejeição ou perda de aprovação.</p>
                    `;
                    break;
                case 'S':
                    profileDescription = `
                        <h3>Estabilidade</h3>
                        <p>Você é confiável, paciente e leal. Prefere um ambiente previsível e evita conflitos.</p>
                        <h4>Características:</h4>
                        <ul>
                            <li>Calmo e paciente</li>
                            <li>Confiável e leal</li>
                            <li>Bom ouvinte</li>
                        </ul>
                        <h4>Pontos Fortes:</h4>
                        <ul>
                            <li>Trabalho em equipe</li>
                            <li>Estabilidade emocional</li>
                            <li>Respeita autoridade</li>
                        </ul>
                        <h4>Limitações:</h4>
                        <ul>
                            <li>Resistente a mudanças</li>
                            <li>Pode ser indeciso</li>
                            <li>Dificuldade com prazos apertados</li>
                        </ul>
                        <h4>Grande Medo:</h4>
                        <p>Perda de segurança e estabilidade.</p>
                    `;
                    break;
                case 'C':
                    profileDescription = `
                        <h3>Conformidade</h3>
                        <p>Você é analítico, preciso e detalhista. Prefere seguir regras e regulamentos.</p>
                        <h4>Características:</h4>
                        <ul>
                            <li>Analítico e detalhista</li>
                            <li>Conformista e disciplinado</li>
                            <li>Sistemático e metódico</li>
                        </ul>
                        <h4>Pontos Fortes:</h4>
                        <ul>
                            <li>Padrões elevados</li>
                            <li>Organização e precisão</li>
                            <li>Analisa problemas profundamente</li>
                        </ul>
                        <h4>Limitações:</h4>
                        <ul>
                            <li>Pode ser crítico</li>
                            <li>Resistente a mudanças</li>
                            <li>Foco excessivo nos detalhes</li>
                        </ul>
                        <h4>Grande Medo:</h4>
                        <p>Críticas e mudanças imprevistas.</p>
                    `;
                    break;
                default:
                    profileDescription = '<h3>Perfil Indefinido</h3>';
                    break;
            }

            if (secondaryMaxLetter) {
                profileDescription += `<h4>Perfil Secundário: ${getProfileName(secondaryMaxLetter)}</h4>`;
            }

            detailedResult.innerHTML = profileDescription;
            generateChart();
        }

        function getProfileName(letter) {
            switch (letter) {
                case 'D': return 'Dominância';
                case 'I': return 'Influência';
                case 'S': return 'Estabilidade';
                case 'C': return 'Conformidade';
                default: return 'Indefinido';
            }
        }

        function generateChart() {
            const ctx = document.getElementById('chart').getContext('2d');
            new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: ['Dominância', 'Influência', 'Estabilidade', 'Conformidade'],
                    datasets: [{
                        label: 'Pontuação',
                        data: [scores.D, scores.I, scores.S, scores.C],
                        backgroundColor: ['#ff6384', '#36a2eb', '#ffcd56', '#4bc0c0'],
                        borderWidth: 1
                    }]
                },
                options: {
                    scales: {
                        y: {
                            beginAtZero: true,
                            max: 20
                        }
                    }
                }
            });
        }

        function printResults() {
            window.print();
        }

        function resetTest() {
            location.reload();
        }
    </script>
</body>
</html>
